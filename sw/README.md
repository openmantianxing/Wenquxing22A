# Programs for Wenquxing 22A
## File Structure
```
sw/
├── swSim-mnist                     # Python-version scripts for MNIST Recognition
│   └── scripts                     # Python scripts
└── swTest-mnist
    ├── fpga_apps                   # C program for MNIST recognition on FPGA
    └── fpga_data                   # Generated spikes data
```

## Introduction
### C Program
```
swTest-mnist/
├── fpga_apps
│   ├── include
│   │   ├── fpga_data
│   │   │   ├── mn_d_0.h        # Spikes data with data format for Wenquxing 22A
│   │   │   ├── mn_d_1.h
│   │   │   ├── ......
│   │   │   ├── mn_syn_10.h
│   │   │   ├── syn_trained.txt # Trained synaptic weights of 40-neuron SNN
│   │   │   └── syn.txt
│   │   ├── snn.h               # RV-SNN inline define 
│   │   └── snn_portme.h        # Platform parameters
│   └── src
│       └── standard_train.c    # Standard training program
└── spike_data
    ├── 0.txt                   # Spikes data with data format for Wenquxing 22A generated by Python scripts
    ├── ......          
    └── 9.txt
```
This C program is a simple example to use RV-SNN in SNN training. Wenquxing 22A updates 64 synaptic weights per synapse update instruction (SUP). 

The `standard_train` utilizes the spikes genrated by a Python script which converts the numpy array to correct data format in order to provide to Wenquxing 22A. It also uses the instructions which are realized by inline assembly defined in `snn.h`. 

The file `snn_portme.h` defines some parameters related to whether the experiment platform is abstract machine or FPGA, which means this program is also able to run on a simulating environment. And these parameters are changeable.

For usage, click [here](./swTest-mnist/Readme.md).


### Python Version
```
swSim-mnist/
├── data
└── scripts
    ├── active_learning.py
    ├── preprocessing.py
    ├── read_mnist.py
    ├── snnfunctions.py
    ├── spikes_generator.py
    ├── standard_training.py
    ├── syn_generator.py
    └── test.py
```
These python scripts only need `Numpy` and `Scipy` as thier dependences.Some important scripts:
- `standard_training.py` : Basic training for 10 Streamlined LIF neurons;
- `preprocessing.py` : Use OTSU method to achieve image enhancement, to deskew, and to generate the spikes depending on Poisson Spike Generator;
- `active_learning.py` : Enable active learning. 
- `read_mnist.py` : Load MNIST dataset for its original files.
- `snnfunctions.py` : Define functions related training, including preprocessing functions(deskewing and OTSU) and training functions.
- `test.py` : Classification accuracy test.
- `syn_generator.py` : Convert the synaptic weights numpy array to data format fit RV-SNN in Wenquxing 22A.
- `spikes_generator.py` : Convert the spikes numpy array to data format fit RV-SNN in Wenquxing 22A.

For usage, click [here](./swSim-mnist/Readme.md).

